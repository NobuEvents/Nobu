connections:
  front_kafka:
    type: kafka
    impl: com.nobu.connector.logger.LoggerConnector
    config:
      bootstrap.servers: localhost:5050
      acks: 1
      batch.size: 16384
      linger.ms: 5
      max.request.size: 1000
  backup_kafka:
    type: kafka
    impl: com.nobu.connector.logger.LoggerConnector
    config:
      bootstrap.servers: localhost:5051
  segment_main:
    type: segment
    impl: com.nobu.connect.console.ConsoleConnector
    config:
      url: https://nobu.segment.com/webhook
  console_main:
    type: console
    impl: com.nobu.connect.console.ConsoleConnector
    config:
      url: https://nobu.segment.com/webhook
  dlq_kafka:
    type: kafka
    impl: com.nobu.connector.logger.LoggerConnector
    config:
      type: kafka
      bootstrap.servers: localhost:5052

routes:
  # dlq is a special reserved route name.
  # If dlq configured and the event validation failed
  # the event will be sent to the dlq connection.
  # As of now the system limited to one dlq route.
  - type: dlq
    target: front_kafka
    config:
      topic: dlq_topic
  - type: signup
    target: front_kafka
    config:
      topic: signup_kafka_front
  - type: login
    target: backup_kafka
    config:
      topic: signup_kafka_backup
  - type: segment
    target: segment_main
    config:
      url: https://nobu.segment.com/webhook
  - type: signup
    target: console_main
    config:
      url: https://nobu.segment.com/webhook
