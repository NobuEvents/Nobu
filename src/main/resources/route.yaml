connections:
  front_kafka:
    type: kafka
    impl: com.nobu.connect.kafka.KafkaConnector
    config:
      bootstrap.servers: localhost:5050
  zendesk_kafka:
    type: kafka
    impl: com.nobu.connect.kafka.KafkaConnector
    config:
      bootstrap.servers: localhost:5051
  dlq_kafka:
    type: kafka
    impl: com.nobu.connect.kafka.KafkaConnector
    config:
      bootstrap.servers: localhost:5052
  segment_main:
    type: segment
    impl: com.nobu.connect.segment.SegmentConnector
    config:
      url: https://nobu.segment.com/webhook
  console_main:
    type: console
    impl: com.nobu.connect.console.ConsoleConnector
    config:
      url: https://nobu.segment.com/webhook

routes:
  - type: signup
    target: front_kafka
    config:
      topic: signup_kafka_front
      acks: 1
      batch.size: 16384
      linger.ms: 5
      buffer.memory: 33554432
      max.request_size: 1048576
  - type: signup
    target: zendesk_kafka
    config:
      topic: signup_kafka_zendesk
      acks: 1
      batch.size: 16384
      linger.ms: 5
      buffer.memory: 33554432
      max.request.size: 1048576
  - type: signup
    target: segment_main
    config:
      url: https://nobu.segment.com/webhook
  - type: purchase
    target: console_main
    config:
      url: https://nobu.segment.com/webhook
